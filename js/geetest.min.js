"v0.4.6 Geetest Inc.";!function(e){"use strict";function s(e){this._obj=e}function n(e){var t=this;new s(e)._each(function(e,a){t[e]=a})}if("undefined"==typeof e)throw new Error("Geetest requires browser environment");var t=e.document,a=e.Math,i=t.getElementsByTagName("head")[0];s.prototype={_each:function(e){var t=this._obj;for(var a in t)t.hasOwnProperty(a)&&e(a,t[a]);return this}},n.prototype={api_server:"api.geetest.com",protocol:"http://",typePath:"/gettype.php",fallback_config:{slide:{static_servers:["static.geetest.com","dn-staticdown.qbox.me"],type:"slide",slide:"/static/js/geetest.0.0.0.js"},fullpage:{static_servers:["static.geetest.com","dn-staticdown.qbox.me"],type:"fullpage",fullpage:"/static/js/fullpage.0.0.0.js"}},_get_fallback_config:function(){var e=this;return l(e.type)?e.fallback_config[e.type]:e.new_captcha?e.fallback_config.fullpage:e.fallback_config.slide},_extend:function(e){var t=this;new s(e)._each(function(e,a){t[e]=a})}};var r=function(e){return"number"==typeof e},l=function(e){return"string"==typeof e},c=function(e){return"boolean"==typeof e},d=function(e){return"object"==typeof e&&null!==e},o=function(e){return"function"==typeof e},p={},u={},f=function(){return parseInt(1e4*a.random())+(new Date).valueOf()},g=function(e,a){var s=t.createElement("script");s.charset="UTF-8",s.async=!0,s.onerror=function(){a(!0)};var n=!1;s.onload=s.onreadystatechange=function(){n||s.readyState&&"loaded"!==s.readyState&&"complete"!==s.readyState||(n=!0,setTimeout(function(){a(!1)},0))},s.src=e,i.appendChild(s)},m=function(e){return e.replace(/^https?:\/\/|\/$/g,"")},h=function(e){return e=e.replace(/\/+/g,"/"),0!==e.indexOf("/")&&(e="/"+e),e},v=function(e){if(!e)return"";var t="?";return new s(e)._each(function(e,a){(l(a)||r(a)||c(a))&&(t=t+encodeURIComponent(e)+"="+encodeURIComponent(a)+"&")}),"?"===t&&(t=""),t.replace(/&$/,"")},b=function(e,t,a,i){t=m(t);var s=h(a)+v(i);return t&&(s=e+t+s),s},y=function(e,t,a,i,s){var n=function(r){var l=b(e,t[r],a,i);g(l,function(e){e?r>=t.length-1?s(!0):n(r+1):s(!1)})};n(0)},x=function(t,a,i,s){if(d(i.getLib))return i._extend(i.getLib),void s(i);if(i.offline)return void s(i._get_fallback_config());var n="geetest_"+f();e[n]=function(t){s("success"==t.status?t.data:t.status?i._get_fallback_config():t),e[n]=void 0;try{delete e[n]}catch(a){}},y(i.protocol,t,a,{gt:i.gt,callback:n},function(e){e&&s(i._get_fallback_config())})},j=function(e,t){var a={networkError:"网络错误",gtTypeError:"gt字段不是字符串类型"};if("function"!=typeof t.onError)throw new Error(a[e]);t.onError(a[e])},$=function(){return e.Geetest||t.getElementById("gt_lib")};$()&&(u.slide="loaded"),e.initGeetest=function(t,a){var i=new n(t);t.https?i.protocol="https://":t.protocol||(i.protocol=e.location.protocol+"//"),("050cffef4ae57b5d5e529fea9540b0d1"===t.gt||"3bd38408ae4af923ed36e13819b14d42"===t.gt)&&(i.apiserver="yumchina.geetest.com/",i.api_server="yumchina.geetest.com"),d(t.getType)&&i._extend(t.getType),x([i.api_server||i.apiserver],i.typePath,i,function(t){var s=t.type,n=function(){i._extend(t),a(new e.Geetest(i))};p[s]=p[s]||[];var r=u[s]||"init";"init"===r?(u[s]="loading",p[s].push(n),y(i.protocol,t.static_servers||t.domains,t[s]||t.path,null,function(e){if(e)u[s]="fail",j("networkError",i);else{u[s]="loaded";for(var t=p[s],a=0,n=t.length;n>a;a+=1){var r=t[a];o(r)&&r()}p[s]=[]}})):"loaded"===r?n():"fail"===r?j("networkError",i):"loading"===r&&p[s].push(n)})}}(window)